<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/styles.css">
    <!-- <script src="js/script.js"></script> -->
    <title>Registered users</title>
</head>
<body>
    <header></header>
    <main>
        <div class="user">
     
        </div>
        
    
    </main>
    <footer>& Janvier</footer>
    
</body>
</html>
<script>
 document.addEventListener("DOMContentLoaded", function(event) {
     /** 
        * @params {String} name of tag to be created
        * @return {HtmlElement} created tag
     */
    const newTag=(tagName)=> document.createElement(tagName);

    /** 
        * @params {String} type of data to retrieve data [it might be user or posts]
        * @return {Object} data
 */


 const getData = async(query)=>{
    return await fetch(`https://jsonplaceholder.typicode.com/${query}`)
    .then(response=> response.json())
    .then(json=>json)
 } 
 const getUserPosts = (e) =>{
     e.preventDefault()
   alert('id')
    // return await fetch(`https://jsonplaceholder.typicode.com/users/${id}/posts`)
    // .then(response=> response.json())
    // .then(json=>json)
 }

    

    getData('users').then(data=>data.forEach(({name, email, id})=>{

      var div = newTag('div')
      document.getElementsByClassName('user')[0].appendChild(div);

        let listName = newTag('h2')
        let listEmail = newTag('p')
        let userPostBtn = newTag('button')
        let input = newTag('input')
        // userPostBtn.setAttribute('onclick', e=>getUserPosts())
        userPostBtn.innerHTML = 'Get Userâ€™s Posts'
        input.setAttribute('value', id)
        input.setAttribute('name', 'data')
        input.setAttribute('type', 'submit')

        div.appendChild(listName)
        div.appendChild(listEmail)
        div.appendChild(userPostBtn)
        div.appendChild(input)
        listEmail.innerHTML = email
        listName.innerHTML=name
       
    }))

 
  })
  try {
    let inputClickEvent = document.querySelector('form').onsubmit=()=>{

        // alert(`trying to submit${document.querySelector('input').value}`)
       
    }
} catch (error) {
    console.log(error)
}
for(let i=0; i<10; i++){
    document.querySelector('#form').appendChild(document.querySelector('#example'))
}
</script>